//JSONslider v.0.2.0
//http://www.github.com/dcdeiv/jsonslider
// GPLv2 http://www.gnu.org/licenses/gpl-2.0-standalone.html
!function(a){a.fn.jsonSlider=function(b){var c,d,e,f={json:void 0,Class:"slider-active",orientation:"landscape",aspectRatio:"16:9"},g=a.extend(!0,f,b),h=g.json,i=g.Class,j=g.orientation,k=g.aspectRatio,l=a(this),m=k.split(":"),n=parseInt(m[0]),o=parseInt(m[1]),p=n/o;c=l.width(),l.append("<div>"),e=l.children(),a(window).resize(function(){"landscape"===j?(d=c/p,l.height(d)):"portrait"===j&&(d=c*p,l.height(d)),e.css({position:"relative",width:c,minHeight:d,margin:"0 auto",padding:0,backgroundColor:"inherit",overflow:"hidden"})}),a.getJSON(h,function(b){function j(b){var d,e=a("."+b);d=0===e.next().length?c.first():e.next(),e.fadeOut(1e3,function(){a(this).removeClass(b)}),d.fadeIn(1e3,function(){a(this).addClass(b)})}var c,f,g,h=a.map(b,function(a){return a});for(g=0;g<h.length;g++)e.append(a('<figure><img src="'+h[g].url+'" alt="'+h[g].alt+'"/></figure>'));c=e.children(),c.children().height("height",d),f=c.first(),f.addClass(i),c.not(f).hide(),setTimeout(setInterval(function(){j(i)},4e3),5e3),a(window).resize()})}}(jQuery);
